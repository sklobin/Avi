<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Aviator Demo ‚Äì Fun Only</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;800&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box}
body{background:#0b0f14;color:#fff;font-family:Inter}
.app{max-width:420px;margin:auto}

/* TOP */
.top{display:flex;justify-content:space-between;padding:12px;background:#111}
.logo{font-weight:800;color:#ff2b55}
.balance{color:#22c55e;font-weight:700}

/* HISTORY */
.results{display:flex;gap:8px;padding:8px 12px;overflow-x:auto}
.results span{font-weight:800}
.low{color:#ff4d4d}
.mid{color:#38bdf8}
.high{color:#c084fc}
.mega{color:#22c55e}

/* GAME */
.game{
  position:relative;
  margin:10px;
  background:radial-gradient(circle at bottom,#111,#000);
  border-radius:18px;
  padding:20px 10px 60px;
  text-align:center;
  overflow:hidden
}
.status{color:#aaa}
.multi{font-size:56px;font-weight:800}
.plane{
  position:absolute;
  left:-60px;
  bottom:20px;
  font-size:34px;
  transform:rotate(18deg)
}

/* BET */
.betbox{background:#12161c;margin:10px;border-radius:16px;padding:10px}
.bet{background:#0b0f14;border-radius:12px;padding:8px;margin-bottom:10px}
.row{display:flex;justify-content:space-between;align-items:center}
.row input{width:70px;background:#111;border:none;color:#fff;padding:6px;border-radius:8px}
.row button{width:28px;height:28px;border-radius:50%;border:none;background:#1f2937;color:#fff}
.betbtn{
  width:100%;margin-top:6px;
  padding:12px;border:none;border-radius:12px;
  font-weight:800
}
.green{background:#22c55e;color:#000}
.yellow{background:#facc15;color:#000}

/* SOUND */
.sound{
  background:#ff2b55;
  padding:10px;
  margin:10px;
  border-radius:12px;
  text-align:center;
  font-weight:800;
  cursor:pointer
}
</style>
</head>

<body>
<div class="app">

<div class="top">
  <div class="logo">AVIATOR</div>
  <div class="balance">PKR <span id="bal">5000</span></div>
</div>

<div class="results" id="history"></div>

<div class="game">
  <div class="status" id="status">WAITING</div>
  <div class="multi" id="multi">1.00x</div>
  <div class="plane" id="plane">‚úàÔ∏è</div>
</div>

<div class="sound" id="soundBtn">üîä ENABLE SOUND</div>

<div class="betbox">

<div class="bet">
<b>BET A</b>
<div class="row">
<button onclick="chg('A',-100)">-</button>
<span id="betA">100</span>
<button onclick="chg('A',100)">+</button>
<input id="autoA" placeholder="Auto x">
</div>
<button id="btnA" class="betbtn green" onclick="handleBet('A')">BET A</button>
</div>

<div class="bet">
<b>BET B</b>
<div class="row">
<button onclick="chg('B',-100)">-</button>
<span id="betB">100</span>
<button onclick="chg('B',100)">+</button>
<input id="autoB" placeholder="Auto x">
</div>
<button id="btnB" class="betbtn green" onclick="handleBet('B')">BET B</button>
</div>

</div>
</div>

<!-- üéµ SOUNDS -->
<audio id="fly" loop preload="auto">
  <source src="avivator.mp3" type="audio/mpeg">
</audio>
<audio id="cash" src="cashout.mp3"></audio>
<audio id="crash" src="https://assets.mixkit.co/active_storage/sfx/2747/2747-preview.mp3"></audio>

<script>
let balance=5000;
let bets={A:100,B:100};
let placed={A:false,B:false};
let cashed={A:false,B:false};
let autoX={A:null,B:null};
let running=false;
let mult=1, crash=0;
let history=[];
let sound=false;

const flyS=document.getElementById("fly");
const cashS=document.getElementById("cash");
const crashS=document.getElementById("crash");

soundBtn.onclick=()=>{
  flyS.volume=0.35;
  flyS.play().then(()=>{
    sound=true;
    soundBtn.innerText="üîä SOUND ON";
  });
};

function chg(t,v){
  if(running||placed[t])return;
  bets[t]=Math.max(100,bets[t]+v);
  document.getElementById("bet"+t).innerText=bets[t];
}

function handleBet(t){
  if(running && placed[t] && !cashed[t]) return cashOut(t);

  if(!running && !placed[t]){
    if(bets[t]>balance)return alert("Low balance");
    placed[t]=true;
    cashed[t]=false;
    autoX[t]=parseFloat(document.getElementById("auto"+t).value)||null;
    balance-=bets[t];
    updateUI();
    document.getElementById("btn"+t).innerText="WAIT";
  }
}

function cashOut(t){
  cashed[t]=true;
  let win=Math.floor(bets[t]*mult);
  balance+=win;
  document.getElementById("btn"+t).innerText="CASH "+win;
  if(sound)cashS.play();
  updateUI();
}

function generateCrash(){
  const r=Math.random();
  if(r<1/30) return rand(90,159);
  if(r<1/15) return rand(20,25);
  if(r<1/10) return rand(10,15);
  if(r<1/5) return rand(5,7);
  return rand(1.2,4.9);
}
function rand(a,b){return Math.random()*(b-a)+a;}

function start(){
  running=true;
  mult=1;
  crash=generateCrash();
  status.innerText="FLYING";
  if(sound){ flyS.currentTime=0; flyS.play(); }
  tick();
}

function tick(){
  if(!running)return;
  mult+=mult<2?0.0025:mult<5?0.004:mult<10?0.006:mult<20?0.008:0.01;
  multi.innerText=mult.toFixed(2)+"x";
  plane.style.left=(-60+Math.min(mult,25)*26)+"px";

  ["A","B"].forEach(t=>{
    if(placed[t] && !cashed[t]){
      const b=document.getElementById("btn"+t);
      b.className="betbtn yellow";
      b.innerText="CASH "+Math.floor(bets[t]*mult);
      if(autoX[t] && mult>=autoX[t]) cashOut(t);
    }
  });

  if(mult>=crash){ end(); return; }
  requestAnimationFrame(tick);
}

function end(){
  running=false;
  status.innerText="CRASH";
  multi.innerText=crash.toFixed(2)+"x";
  if(sound){ flyS.pause(); crashS.play(); }

  history.unshift(crash.toFixed(2)+"x");
  if(history.length>15)history.pop();
  renderHistory();

  placed={A:false,B:false};
  cashed={A:false,B:false};

  setTimeout(wait,3000);
}

function wait(){
  status.innerText="WAITING";
  ["A","B"].forEach(t=>{
    const b=document.getElementById("btn"+t);
    b.innerText="BET "+t;
    b.className="betbtn green";
  });
  setTimeout(start,3000);
}

function renderHistory(){
  historyEl.innerHTML="";
  history.forEach(x=>{
    const v=parseFloat(x);
    const s=document.createElement("span");
    s.innerText=x;
    s.className=v<1.5?"low":v<2?"mid":v<5?"high":"mega";
    historyEl.appendChild(s);
  });
}

function updateUI(){bal.innerText=balance}
const historyEl=document.getElementById("history");
updateUI();
wait();
</script>
</body>
    </html>
